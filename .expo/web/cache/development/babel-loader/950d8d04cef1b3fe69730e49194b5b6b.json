{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { StatusBar } from 'expo-status-bar';\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport * as Location from 'expo-location';\nimport React, { useEffect, useState, useRef } from 'react';\nimport { Ionicons } from '@expo/vector-icons';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function App() {\n  var units = \"imperial\";\n  var key = \"1c384d0483290f4ddf94960bfee68f6b\";\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      location = _useState2[0],\n      setLocation = _useState2[1];\n\n  var _useState3 = useState(null),\n      _useState4 = _slicedToArray(_useState3, 2),\n      errorMsg = _useState4[0],\n      setErrorMsg = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      weather = _useState6[0],\n      setWeather = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      town = _useState8[0],\n      setTown = _useState8[1];\n\n  var _useState9 = useState(null),\n      _useState10 = _slicedToArray(_useState9, 2),\n      currentTemperature = _useState10[0],\n      setCurrentTemperature = _useState10[1];\n\n  var _useState11 = useState(null),\n      _useState12 = _slicedToArray(_useState11, 2),\n      feelsLike = _useState12[0],\n      setFeelsLike = _useState12[1];\n\n  var fadeAnimation = useRef(new Animated.Value(0)).current;\n\n  var fadeIn = function fadeIn() {\n    Animated.timing(fadeAnimation, {\n      toValue: 1,\n      duration: 2000,\n      useNativeDriver: true\n    }).start();\n  };\n\n  var Icon = function Icon() {\n    if (weather === \"clear sky\") {\n      return _jsx(Ionicons, {\n        name: \"ios-sunny-outline\",\n        size: 48,\n        color: \"hsl(204, 100%, 90%)\"\n      });\n    }\n  };\n\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      var _yield$Location$reque = yield Location.requestForegroundPermissionsAsync(),\n          status = _yield$Location$reque.status;\n\n      if (status !== 'granted') {\n        setErrorMsg('Permission to access location was denied');\n        return;\n      }\n\n      var location = yield Location.getCurrentPositionAsync({});\n      setLocation(location);\n      var latitude = location.coords.latitude;\n      var longitude = location.coords.longitude;\n      var data = yield fetch(\"https://api.openweathermap.org/data/2.5/weather?lat=\" + latitude + \"&lon=\" + longitude + \"&units=\" + units + \"&appid=\" + key);\n      var jsonInfo = yield data.json();\n      console.log(jsonInfo);\n      setWeather(jsonInfo.weather[0].description);\n      setTown(jsonInfo.name);\n      setCurrentTemperature(jsonInfo.main.temp);\n      setFeelsLike(jsonInfo.main.feels_like);\n      fadeIn();\n    })();\n  }, []);\n  var text = 'Waiting..';\n\n  if (errorMsg) {\n    text = errorMsg;\n  } else if (weather) {\n    text = JSON.stringify(weather);\n  }\n\n  return _jsx(View, {\n    style: styles.container,\n    children: _jsxs(Animated.View, {\n      style: [styles.container, {\n        opacity: fadeAnimation\n      }],\n      children: [_jsx(Icon, {}), _jsx(Text, {\n        style: styles.townText,\n        children: town\n      }), _jsxs(Text, {\n        style: styles.currentTemperatureText,\n        children: [currentTemperature, \"\\xB0F\"]\n      }), _jsxs(Text, {\n        style: styles.feelsLikeText,\n        children: [feelsLike, \"\\xB0F\"]\n      })]\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: 'hsl(204, 100%, 50%)',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  currentTemperatureText: {\n    color: 'hsl(204, 100%, 90%)',\n    fontSize: 48\n  },\n  feelsLikeText: {\n    color: 'hsl(204, 100%, 90%)',\n    fontSize: 14\n  },\n  townText: {\n    color: 'hsl(204, 100%, 90%)',\n    fontSize: 32\n  }\n});","map":{"version":3,"sources":["/home/dylanmason/projects/Weather-Page/App.js"],"names":["StatusBar","Location","React","useEffect","useState","useRef","Ionicons","App","units","key","location","setLocation","errorMsg","setErrorMsg","weather","setWeather","town","setTown","currentTemperature","setCurrentTemperature","feelsLike","setFeelsLike","fadeAnimation","Animated","Value","current","fadeIn","timing","toValue","duration","useNativeDriver","start","Icon","requestForegroundPermissionsAsync","status","getCurrentPositionAsync","latitude","coords","longitude","data","fetch","jsonInfo","json","console","log","description","name","main","temp","feels_like","text","JSON","stringify","styles","container","opacity","townText","currentTemperatureText","feelsLikeText","StyleSheet","create","flex","backgroundColor","alignItems","justifyContent","color","fontSize"],"mappings":"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","sourcesContent":["import { StatusBar } from 'expo-status-bar';\nimport { Platform, StyleSheet, Text, View, Animated } from 'react-native';\nimport * as Location from 'expo-location';\nimport React, {useEffect, useState, useRef} from 'react';\nimport { Ionicons } from '@expo/vector-icons'; \n\nexport default function App() {\n\n    const units = \"imperial\";\n    const key = \"1c384d0483290f4ddf94960bfee68f6b\";\n\n    const [location, setLocation] = useState(null);\n    const [errorMsg, setErrorMsg] = useState(null);\n    const [weather, setWeather] = useState(null);\n    const [town, setTown] = useState(null);\n    const [currentTemperature, setCurrentTemperature] = useState(null);\n    const [feelsLike, setFeelsLike] = useState(null);\n    const fadeAnimation = useRef(new Animated.Value(0)).current;\n\n    const fadeIn = () => {\n        Animated.timing(fadeAnimation, {\n            toValue: 1,\n            duration: 2000,\n            useNativeDriver: true\n        }).start();\n    };\n\n    const Icon = () => {\n        if (weather === \"clear sky\") {\n            return (\n                <Ionicons name=\"ios-sunny-outline\" size={48} color='hsl(204, 100%, 90%)' />\n            );\n        }\n    };\n\n    useEffect(() => {\n        (async () => {\n            let { status } = await Location.requestForegroundPermissionsAsync();\n            if (status !== 'granted') {\n                setErrorMsg('Permission to access location was denied');\n                return;\n            }\n\n            let location = await Location.getCurrentPositionAsync({});\n            setLocation(location);\n            const latitude = location.coords.latitude;\n            const longitude = location.coords.longitude;\n            const data = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&units=${units}&appid=${key}`);\n            const jsonInfo = await data.json();\n            console.log(jsonInfo);\n            setWeather(jsonInfo.weather[0].description);\n            setTown(jsonInfo.name);\n            setCurrentTemperature(jsonInfo.main.temp);\n            setFeelsLike(jsonInfo.main.feels_like);\n\n            fadeIn();\n        })();\n    }, []);\n\n    let text = 'Waiting..';\n    if (errorMsg) {\n        text = errorMsg;\n    } else if (weather) {\n        text = JSON.stringify(weather);\n    }\n\n\n    return (\n        <View style={styles.container}>\n        <Animated.View style={[\n            styles.container,\n            {\n                opacity: fadeAnimation,\n            },\n        ]}>\n        <Icon />\n        <Text style={styles.townText}>{town}</Text>\n        <Text style={styles.currentTemperatureText}>{currentTemperature}&deg;F</Text>\n        <Text style={styles.feelsLikeText}>{feelsLike}&deg;F</Text>\n        </Animated.View>\n        </View>\n    );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        backgroundColor: 'hsl(204, 100%, 50%)',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    currentTemperatureText: {\n        color: 'hsl(204, 100%, 90%)',\n        fontSize: 48,\n    },\n    feelsLikeText: {\n        color: 'hsl(204, 100%, 90%)',\n        fontSize: 14,\n    },\n    townText: {\n        color: 'hsl(204, 100%, 90%)',\n        fontSize: 32,\n    },\n});\n"]},"metadata":{},"sourceType":"module"}